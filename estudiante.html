<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudiante</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/generic.css">
    <link rel="stylesheet" href="css/estudiante.css">
    <link rel="stylesheet" href="css/paletas.css">
</head>

<body>
    <header>
        <button id="logo" class="noBackgr">
            <img src="img/logo.png" alt="Logo xd">
        </button>
        <nav>
            <button class="nav-btn active" data-tab="inicio">
                <span> Inicio</span>
            </button>
            <button class="nav-btn" data-tab="cursos">
                <span> Mis Cursos</span>
            </button>
            <button class="nav-btn" data-tab="inscripcion">
                <span>Inscripciones</span>
            </button>
            <button class="nav-btn" data-tab="horarios">
                <span>Horarios</span>
            </button>
            <button class="nav-btn" data-tab="tienda">
                <span>Tienda</span>
            </button>
            <button class="nav-btn cerrar-sesion-btn" onclick="cerrarSesion()">
                <span>Cerrar Sesión</span>
            </button>
        </nav>
    </header>

    <main>
        <div id="top">
            <h3 id="nombre-bienvenida">Bienvenido, <span id="nombre-estudiante">Cargando...</span></h3>
            <img src="img/logo.png" alt="Logo pequeño">
        </div>

        <div id="dinamic">
            <div id="inicio" class="tab-content active">
                <h1>Bienvenido</h1>
                <div class="profile-content">
                    <div class="profile-info">
                        <div class="avatar" id="avatar-iniciales">--</div>
                        <div class="profile-details">
                            <h2 id="nombre-perfil">Cargando...</h2>
                            <p id="grado-perfil">Estudiante</p>
                            <p id="correo-perfil">Cargando...</p>
                            <p id="rango-perfil">Rango: --</p>
                        </div>


                    </div>
                    <div class="profile-actions">
                        <button id="btn-editar-perfil" class="shiny">Editar Perfil</button>
                        <button id="btn-cambiar-password" class="shiny">Cambiar Contraseña</button>
                        <button class="shiny">Configuración</button>
                    </div>
                </div>


                <div class="content-grid">
                    <div class="content-card">
                        <h3> Próximas Actividades</h3>
                        <ul>
                            <li>Tarea de Matemáticas - 15 de Octubre</li>
                            <li>Examen de Ciencias - 20 de Octubre</li>
                            <li>Proyecto Final - 30 de Octubre</li>
                        </ul>
                    </div>
                    <div class="content-card">
                        <h3> Anuncios Recientes</h3>
                        <ul>
                            <li>Nuevo material disponible</li>
                            <li>Reunión de padres el viernes</li>
                            <li>Actualización del calendario</li>
                        </ul>
                    </div>
                    <div class="content-card">
                        <h3> Tus Puntos</h3>
                        <div class="puntos-info">
                            <div class="punto-item">
                                <span class="punto-valor" id="saldo-actual">0</span>
                                <span class="punto-label">Saldo Actual</span>
                            </div>
                            <div class="punto-item">
                                <span class="punto-valor" id="puntos-totales">0</span>
                                <span class="punto-label">Puntos Totales</span>
                            </div>
                            <div class="punto-item">
                                <span class="punto-valor" id="puntos-gastados">0</span>
                                <span class="punto-label">Puntos Gastados</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="cursos" class="tab-content">
                <h1>Mis Cursos</h1>
                <div class="content-grid">
                </div>
            </div>

            <div id="calificaciones" class="tab-content">
                <h1>Calificaciones</h1>
                <div class="grades-container">
                    <table class="grades-table">
                        <thead>
                            <tr>
                                <th>Asignatura</th>
                                <th>Parcial 1</th>
                                <th>Parcial 2</th>
                                <th>Parcial 3</th>
                                <th>Promedio</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Matemáticas</td>
                                <td>9.0</td>
                                <td>8.5</td>
                                <td>9.2</td>
                                <td>8.9</td>
                            </tr>
                            <tr>
                                <td>Ciencias</td>
                                <td>8.0</td>
                                <td>8.8</td>
                                <td>9.0</td>
                                <td>8.6</td>
                            </tr>
                            <tr>
                                <td>Historia</td>
                                <td>9.5</td>
                                <td>9.0</td>
                                <td>9.3</td>
                                <td>9.3</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="inscripcion" class="tab-content">
                <h1>Inscripciones a Cursos</h1>
                <div class="content-grid">
                    <!-- Los cursos se cargarán aquí dinámicamente -->
                </div>
            </div>
            <div id="horarios" class="tab-content">
                <h1>Mi Horario de Clases</h1>
                <div class="content-grid">
                    <!-- Los horarios se cargarán aquí dinámicamente -->
                </div>
            </div>
            <div id="tienda" class="tab-content">
                <h1>Tienda</h1>
                <div class="content-grid">
                    <!-- Se cargará dinámicamente -->
                </div>
            </div>
        </div>
    </main>

    <!-- Modales -->
    <div id="modal-editar-perfil" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Perfil</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-editar-perfil">
                    <div class="form-group">
                        <label for="edit-nombre">Nombre:</label>
                        <input type="text" id="edit-nombre" name="nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-apellido">Apellido:</label>
                        <input type="text" id="edit-apellido" name="apellido" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="shiny" type="submit" form="form-editar-perfil">Guardar Cambios</button>
            </div>
        </div>
    </div>

    <div id="modal-cambiar-password" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Cambiar Contraseña</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-cambiar-password">
                    <div class="form-group">
                        <label for="current-password">Contraseña Actual:</label>
                        <input type="password" id="current-password" name="old_password" required>
                    </div>
                    <div class="form-group">
                        <label for="new-password">Nueva Contraseña:</label>
                        <input type="password" id="new-password" name="new_password" required>
                    </div>
                    <div class="form-group">
                        <label for="confirm-password">Confirmar Contraseña:</label>
                        <input type="password" id="confirm-password" name="confirm_password" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="shiny" type="submit" form="form-cambiar-password">Cambiar Contraseña</button>
            </div>
        </div>
    </div>

    <!-- Modal Certificado -->
    <div id="modal-certificado" class="modal">
        <div class="modal-content modal-content-certificado">
            <div class="modal-header">
                <h2>Certificado de Aprobación</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="certificado-body">
                <!-- El contenido del certificado se generará dinámicamente -->
                <div class="certificado-container">
                    <h1 class="certificado-titulo">Certificado de Excelencia</h1>
                    <p class="certificado-texto">Se otorga el presente reconocimiento a:</p>
                    <h2 id="cert-nombre-estudiante" class="certificado-nombre"></h2>
                    <p class="certificado-texto">Por haber aprobado satisfactoriamente el curso:</p>
                    <h2 id="cert-curso" class="certificado-curso"></h2>
                    <p class="certificado-texto">Con una calificación final de:</p>
                    <h3 id="cert-nota" class="certificado-nota"></h3>
                    <div class="certificado-firmas">
                        <div class="certificado-firma-block">
                            <div class="certificado-linea"></div>
                            <p id="cert-maestro"></p>
                            <small>Instructor</small>
                        </div>
                        <div class="certificado-firma-block">
                            <img src="img/logo.png" alt="Sello" class="certificado-logo">
                            <p>TBD Academy</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="shiny" onclick="window.print()">Imprimir</button>
                <button class="shiny close-modal">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Cambiar la línea del script -->
    <script type="module" src="js/estudiante/main.js"></script>
</body>

</html>